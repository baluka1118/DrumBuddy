<rxui:ReactiveUserControl x:TypeArguments="vm:LibraryViewModel" xmlns="https://github.com/avaloniaui"
                          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                          xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                          xmlns:vm="clr-namespace:DrumBuddy.Client.ViewModels"
                          xmlns:rxui="http://reactiveui.net"
                          xmlns:models="clr-namespace:DrumBuddy.Core.Models;assembly=DrumBuddy.Core"
                          mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
                          x:Class="DrumBuddy.Client.Views.LibraryView">
    <UserControl.Styles>
        <Style Selector="ListBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Margin" Value="0,10,0,0"/>
        </Style>
        
        <Style Selector="ListBoxItem">
            <Setter Property="Padding" Value="12,16"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Background" Value="#f5f5f5"/>
        </Style>
        
        <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#e8f0fe"/>
        </Style>
        
        <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="#d2e3fc"/>
        </Style>
        
        <Style Selector="TextBlock.header">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontFamily" Value="{DynamicResource NunitoFont}"/>
            <Setter Property="Margin" Value="8,0,0,0"/>
        </Style>
        
        <Style Selector="Button.delete-button">
            <Setter Property="Background" Value="#ffdede"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="16,8"/>
        </Style>
        
        <Style Selector="Button.delete-button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#ffcece"/>
        </Style>
        
        <Style Selector="Button.delete-button:disabled /template/ ContentPresenter">
            <Setter Property="Background" Value="#ffdede"/>
            <Setter Property="Opacity" Value="0.7"/>
        </Style>
        <Style Selector="Button.rename-button">
            <Setter Property="Background" Value="#0073cf"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="12,8"/>
        </Style>

        <Style Selector="Button.rename-button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#0080e0"/>
        </Style>

        <Style Selector="Button.rename-button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="#0060b0"/>
        </Style>
    </UserControl.Styles>
    
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="auto" />
        </Grid.ColumnDefinitions>
        
        <TextBlock Text="Your Sheet Library" 
                   Classes="header"
                   VerticalAlignment="Center" />
        
        <Button x:Name="DeleteButton"
                Grid.Row="0" Grid.Column="1" 
                Classes="delete-button">
            <StackPanel Orientation="Horizontal">
                <PathIcon x:Name="DeleteIcon" 
                          Data="{StaticResource delete}" 
                          Foreground="IndianRed"
                          Width="16"
                          Height="16" />
                <TextBlock Text="Delete Sheet" 
                          Foreground="IndianRed" 
                          Margin="8,0,0,0"
                          FontWeight="Medium" />
            </StackPanel>
        </Button>
        <ListBox Grid.Row="1" 
                 x:Name="SheetsListBox" 
                 Grid.ColumnSpan="2" Grid.Column="0"
                 Margin="0,16,0,0">
             <ListBox.ItemTemplate>
    <DataTemplate DataType="models:Sheet">
        <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*,Auto,Auto">
            <PathIcon Grid.Row="0" Grid.RowSpan="3" Grid.Column="0"
                     Data="{StaticResource music}"
                     Width="40"
                     Height="40"
                     Margin="0,0,16,0"
                     Foreground="#444444" />

            <!-- Name Row -->
            <StackPanel Grid.Row="0" Grid.Column="1"
                       Orientation="Horizontal"
                       Margin="0,0,0,4">
                <TextBlock Text="Name: "
                          FontWeight="SemiBold"
                          Opacity="0.8" />
                <TextBlock Text="{Binding Name}"
                          FontWeight="SemiBold" />
            </StackPanel>
            <StackPanel Grid.Row="1" Grid.Column="1"
                       Orientation="Horizontal"
                       Margin="0,4,0,4">
                <TextBlock Text="Description: "
                          FontWeight="SemiBold"
                          Opacity="0.8" />
                <TextBlock Text="{Binding Description}"
                          TextTrimming="CharacterEllipsis" />
            </StackPanel>

            <!-- Length Row -->
            <StackPanel Grid.Row="2" Grid.Column="1"
                       Orientation="Horizontal"
                       Margin="0,4,0,0">
                <TextBlock Text="Length: "
                          FontWeight="SemiBold"
                          Opacity="0.8" />
                <TextBlock Text="{Binding Length}" />
            </StackPanel>

            <!-- Rename Button -->
            <Button Grid.Row="0" Grid.Column="2" Grid.RowSpan="3"
                   Classes="rename-button"
                   VerticalAlignment="Stretch"
                   Margin="16,0,0,0">
                <StackPanel Orientation="Horizontal">
                    <PathIcon Data="{StaticResource textedit}"
                             Width="20"
                             Height="20"
                             Margin="0,6,0,0"
                             Foreground="White" />
                    <TextBlock Text="Rename"
                               VerticalAlignment="Center"
                              Foreground="White"
                              Margin="6,0,0,0"
                              FontWeight="Medium"
                              FontSize="16" />
                </StackPanel>
            </Button>
        </Grid> 
        <!-- TODO: make a popup with ... at the end of each list item, containing an Edit, Delete, and Rename menu point -->
    </DataTemplate>
</ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</rxui:ReactiveUserControl>